<div class="personal-details-form-container">
    <div class="lds-roller" *ngIf="loading">
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
        <div></div>
    </div>
    <div class="personal-details-form flex-between" *ngIf="!enterUserName && !loading"
         [ngClass]="{'instructions-form': !instructionsOk}">
        <h1><b> Login </b></h1>
        <div class="login-button-container flex-center">
            <div class="google-btn" (click)="login('google')">
                <div class="google-icon-wrapper">
                    <img class="google-icon"
                         src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg"/>
                </div>
                <p class="btn-text"><b>Sign in with google</b></p>
            </div>
            <img class="yahoo-btn" src='assets/img/yahoo-login-btn.png' (click)="login('yahoo')">
        </div>
    </div>
    <div class="personal-details-form flex-between" *ngIf="enterUserName && !loading"
         [ngClass]="{'instructions-form': !instructionsOk}">
        <div style="margin-bottom: 35px">
            This is your first time signing in. Please enter a username to complete the registration.
            The username will be displayed on the game leaderboard.
        </div>
        <form style="width: 100%" [formGroup]="userDetailsForm" (submit)="onSubmit($event)">
            <mat-form-field appearance="fill" class="fill-container">
                <input matInput [formControl]="$any(userDetailsForm.controls.username)">
            </mat-form-field>
            <div class="button-container">
                <button mat-raised-button type="submit" class="btn btn-neutral btn-big">Submit</button>
            </div>
            <div class="hint">{{hint}}</div>

            <div style="margin-top: 35px">
                <mat-checkbox (change)="detectChanges()" [formControl]="$any(userDetailsForm.controls.consentForm)" class="consent-checkbox"></mat-checkbox>
                <b>
                    In registering, you agree that the associations you create will be stored in our database and used for future research. <br><br>
                    Please be aware that we do not distribute image files, we redirect to the original URL. If you notice a missing / inappropriate image, please report with the report button. </b>
            </div>

        </form>
    </div>
</div>